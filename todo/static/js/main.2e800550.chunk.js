(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(42)},40:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var o={};n.r(o),n.d(o,"getTodos",function(){return D}),n.d(o,"getCategories",function(){return I}),n.d(o,"addTodo",function(){return N}),n.d(o,"deleteTodo",function(){return L}),n.d(o,"editTodo",function(){return F}),n.d(o,"completeTodo",function(){return A}),n.d(o,"setVisibilityFilter",function(){return M});var r,a=n(0),c=n.n(a),i=n(21),l=n(2),u=n(3),s=n(4),d=n(5),p=n(7),f=n(6),m=n(8),h=n(10),g=n.n(h),y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={text:n.props.text||"",category:n.props.category||""},n.handleSubmit=function(e){var t=e.target.value.trim(),o=parseInt(n.state.category);13===e.which&&(n.props.onSave(t,o),n.props.newTodo&&n.setState({text:"",category:""}))},n.handleTextChange=function(e){n.setState({text:e.target.value})},n.handleCategoryChange=function(e){n.setState({category:e.target.value})},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return c.a.createElement("span",null,c.a.createElement("input",{className:g()({edit:this.props.editing,"new-todo":this.props.newTodo}),type:"text",placeholder:this.props.placeholder,autoFocus:!0,value:this.state.text,onChange:this.handleTextChange,onKeyDown:this.handleSubmit}),c.a.createElement("select",{className:"category-select",onChange:this.handleCategoryChange,value:this.state.category},c.a.createElement("option",null,"Category..."),this.props.categories.map(function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)})))}}]),t}(a.Component),b=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.addTodo,n=e.categories;return c.a.createElement("header",{className:"header"},c.a.createElement("h1",null,"todos"),c.a.createElement(y,{newTodo:!0,onSave:function(e,n){0!==e.length&&t(e,n)},categories:n,placeholder:"What needs to be done?"}))}}]),t}(a.Component),v=n(9),O=n.n(v),E="GET_TODOS",j="ADD_TODO",T="DELETE_TODO",C="EDIT_TODO",w="COMPLETE_TODO",x="COMPLETE_ALL_TODOS",S="CLEAR_COMPLETED",_="GET_CATEGORIES",k="http://localhost:8000/v1/",D=function(){return function(e){return O.a.get("".concat(k,"todo/")).end(function(t,n){t?(console.log("getTodos error",t),e({type:E,data:[]})):e({type:E,data:n.body})})}},I=function(){return function(e){return O.a.get("".concat(k,"category/")).end(function(t,n){t?(console.log("getCategories err",t),e({type:_,data:[]})):e({type:_,data:n.body})})}},N=function(e,t){return function(n){return O.a.post("".concat(k,"todo/")).send({text:e,completed:!1,category:t}).end(function(o,r){o?console.log(o):n({type:j,id:r.body.id,text:e,category:t,completed:!1})})}},L=function(e){return function(t){return O.a.delete("".concat(k,"todo/").concat(e,"/")).end(function(n,o){n?console.log(n):t({type:T,id:e})})}},F=function(e,t,n){return function(o){return O.a.patch("".concat(k,"todo/").concat(e,"/")).send({text:t,category:n}).end(function(r,a){r?console.log(r):o({type:C,id:e,text:t,category:n})})}},A=function(e,t){return function(n){return O.a.patch("".concat(k,"todo/").concat(e,"/")).send({completed:t}).end(function(o,r){return n({type:w,id:e,completed:t})})}},M=function(e){return{type:"SET_VISIBILITY_FILTER",filter:e}},R=Object(u.b)(function(e){return{categories:e.categories}},{addTodo:N})(b),B=n(11),G=function(e){var t=e.active,n=e.children,o=e.setFilter;return c.a.createElement("a",{className:g()({selected:t}),style:{cursor:"pointer"},onClick:function(){return o()}},n)},P=Object(u.b)(function(e,t){return{active:t.filter===e.visibilityFilter}},function(e,t){return{setFilter:function(){e(M(t.filter))}}})(G),V=(r={},Object(B.a)(r,"show_all","All"),Object(B.a)(r,"show_active","Active"),Object(B.a)(r,"show_completed","Completed"),r),J=function(e){var t=e.activeCount,n=1===t?"item":"items";return c.a.createElement("footer",{className:"footer"},c.a.createElement("span",{className:"todo-count"},c.a.createElement("strong",null,t||"No")," ",n," left"),c.a.createElement("ul",{className:"filters"},Object.keys(V).map(function(e){return c.a.createElement("li",{key:e},c.a.createElement(P,{filter:e},V[e]))})))},Y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return(n=Object(p.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={editing:!1},n.handleDoubleClick=function(){n.setState({editing:!0})},n.handleSave=function(e,t,o){0===t.length?n.props.deleteTodo(e):n.props.editTodo(e,t,parseInt(o)),n.setState({editing:!1})},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e,t=this,n=this.props,o=n.todo,r=n.completeTodo,a=n.deleteTodo;return e=this.state.editing?c.a.createElement(y,{text:o.text,category:o.category,categories:this.props.categories,editing:this.state.editing,onSave:function(e,n){return t.handleSave(o.id,e,n)}}):c.a.createElement("div",{className:"view"},c.a.createElement("input",{className:"toggle",type:"checkbox",checked:o.completed,onChange:function(){return r(o.id,!o.completed)}}),c.a.createElement("label",{onDoubleClick:this.handleDoubleClick},o.text,o.category?c.a.createElement("span",{className:"category"},function(e,t){var n=!0,o=!1,r=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done);n=!0){var i=a.value;if(i.id===e)return i.name}}catch(l){o=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(o)throw r}}return""}(o.category,this.props.categories)):""),c.a.createElement("button",{className:"destroy",onClick:function(){return a(o.id)}})),c.a.createElement("li",{className:g()({completed:o.completed,editing:this.state.editing})},e)}}]),t}(a.Component),K=function(e){var t=e.filteredTodos,n=e.categories,o=e.actions;return c.a.createElement("ul",{className:"todo-list"},t.map(function(e){return c.a.createElement(Y,Object.assign({key:e.id,todo:e,categories:n},o))}))},U=n(17),W=function(e){return e.todos},q=Object(U.createSelector)([function(e){return e.visibilityFilter},W],function(e,t){switch(e){case"show_all":return t;case"show_completed":return t.filter(function(e){return e.completed});case"show_active":return t.filter(function(e){return!e.completed});default:throw new Error("Unknown filter: "+e)}}),z=Object(U.createSelector)([W],function(e){return e.reduce(function(e,t){return t.completed?e+1:e},0)}),H=Object(u.b)(function(e){return{filteredTodos:q(e),categories:function(e){return e.categories}(e)}},function(e){return{actions:Object(l.b)(o,e)}})(K),Q=function(e){function t(){return Object(s.a)(this,t),Object(p.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.actions.getCategories(),this.props.actions.getTodos()}},{key:"render",value:function(){var e=this.props,t=e.todosCount,n=e.completedCount,o=e.actions;return c.a.createElement("section",{className:"main"},c.a.createElement(H,null),!!t&&c.a.createElement(J,{completedCount:n,activeCount:t-n,onClearCompleted:o.clearCompleted}))}}]),t}(a.Component),X=Object(u.b)(function(e){return{todosCount:e.todos.length,completedCount:z(e)}},function(e){return{actions:Object(l.b)(o,e)}})(Q),Z=function(){return c.a.createElement("div",null,c.a.createElement(R,null),c.a.createElement(X,null))},$=n(14),ee=n(12);var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"show_all",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_VISIBILITY_FILTER":return t.filter;default:return e}},ne=Object(l.c)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(ee.a)(t.data);case j:return[{id:t.id,completed:t.completed,text:t.text,category:t.category}].concat(Object(ee.a)(e));case T:return e.filter(function(e){return e.id!==t.id});case C:return e.map(function(e){return e.id===t.id?Object($.a)({},e,{text:t.text,category:t.category}):e});case w:return e.map(function(e){return e.id===t.id?Object($.a)({},e,{completed:t.completed}):e});case x:var n=e.every(function(e){return e.completed});return e.map(function(e){return Object($.a)({},e,{completed:!n})});case S:return e.filter(function(e){return!1===e.completed});default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return Object(ee.a)(t.data);default:return e}},visibilityFilter:te}),oe=(n(40),n(25)),re=Object(l.d)(ne,Object(l.a)(oe.a));Object(i.render)(c.a.createElement(u.a,{store:re},c.a.createElement(Z,null)),document.getElementById("root"))}},[[26,2,1]]]);
//# sourceMappingURL=main.2e800550.chunk.js.map